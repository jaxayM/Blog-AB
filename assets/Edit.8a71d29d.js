import{_ as v,o as m,c,w as r,v as n,a as e,t as u,g as h,l as a,j as f}from"./app.3f2b4c4b.js";const p={emits:["onloadedmetadata"],components:{},data(){return{start:0,end:0,duration:0,error:""}},computed:{video(){const d=this.$store.state.currentEdit,t=this.$store.state.posts.filter(l=>l.id&&d&&l.id==d);return t[0]?{videos:t[0].video?t[0].video.videos:[]}:{videos:[]}}},methods:{logDuration(){this.duration=this.$refs.videoPlayer.duration,this.end=this.duration},editPost(){this.start>this.end?this.error="Check time and duration!"+this.duration:this.end>this.duration?this.error="Check time and duration!"+this.duration:(this.$store.commit("editDone",[this.start,this.end]),this.$router.push("/feed"))}}},g=e("h1",null,"Publish blog confirmation",-1),_=["src"],x=a("Start time: "),D=a("End time: ");function P(d,t,l,k,s,o){return m(),c("form",null,[g,r(e("video",{src:o.video.videos,onLoadedmetadata:t[0]||(t[0]=(...i)=>o.logDuration&&o.logDuration(...i)),controls:"",ref:"videoPlayer"},null,40,_),[[n,o.video.videos.length]]),r(e("h2",null,"No video, please confirm posting!",512),[[n,!o.video.videos.length]]),r(e("p",null,"Full lenght: "+u(s.duration),513),[[n,o.video.videos.length]]),r(e("span",null,[e("p",null,[x,r(e("input",{type:"text",name:"start","onUpdate:modelValue":t[1]||(t[1]=i=>s.start=i)},null,512),[[h,s.start]])]),e("p",null,[D,r(e("input",{type:"text",name:"end","onUpdate:modelValue":t[2]||(t[2]=i=>s.end=i)},null,512),[[h,s.end]])])],512),[[n,o.video.videos.length]]),a(" "+u(s.error)+" ",1),e("button",{onClick:t[3]||(t[3]=f((...i)=>o.editPost&&o.editPost(...i),["prevent"]))},"Confirm")])}const w=v(p,[["render",P]]);export{w as default};
