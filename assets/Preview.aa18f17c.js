import{_ as C,u as x,b as w,d as B,r as l,e as S,f as E,o as f,c as _,a as s,t as d,F as g,i as F,M as L}from"./app.3f2b4c4b.js";const M={components:{},setup(){const c=x(),t=w(),r=B(),e=l("Delete"),a=l("Title"),u=l(""),n=l(null),i=l(0),v=l("content"),m=S({videos:[]}),p=P=>{const o=c.state.posts.filter(y=>y.id&&P&&y.id==P);o[0]&&(a.value=o[0].title,u.value=o[0].date?o[0].date:"",v.value=o[0].content,m.videos=o[0].video?o[0].video.videos:[],i.value=o[0].time?o[0].time[0]:0)},D=()=>{e.value=="Confirm"?(c.commit("deletePost",r.params.id),t.push("/feed")):e.value="Confirm"},b=()=>{t.push({path:"/new-blog",query:{id:r.params.id,title:a.value,content:v.value,video:m.videos}})},k=()=>{n.currentTime=i.value};return E(()=>{p(r.params.id)}),{title:a,date:u,content:v,video:m,Delete:e,getPost:p,updatePost:b,deletePost:D,logDuration:k}}},R={class:"content"},T=["src"];function h(c,t,r,e,a,u){return f(),_(g,null,[s("h2",null,d(e.title),1),s("p",null,d(e.date),1),s("p",R,d(e.content),1),(f(!0),_(g,null,F(e.video.videos,n=>(f(),_("div",null,[s("video",{onLoadedmetadata:t[0]||(t[0]=(...i)=>e.logDuration&&e.logDuration(...i)),controls:"",ref_for:!0,ref:"videoPlayer"},[s("source",{src:n,type:"video/mp4"},null,8,T)],544)]))),256)),s("button",{onClick:t[1]||(t[1]=(...n)=>e.deletePost&&e.deletePost(...n)),style:L(`color: ${e.Delete=="Confirm"?"red":"black"}`)},d(e.Delete),5),s("button",{onClick:t[2]||(t[2]=(...n)=>e.updatePost&&e.updatePost(...n))},"Edit")],64)}const z=C(M,[["render",h]]);export{z as default};
